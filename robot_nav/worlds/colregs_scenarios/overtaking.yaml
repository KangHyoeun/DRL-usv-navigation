# COLREGs Scenario: Overtaking (Rule 13)
# =========================================
# 
# 추월 상황:
# - Own Ship (OS): 남쪽에서 북쪽으로 고속 진행 (heading 90°, 4 m/s)
# - Target Ship (TS): OS 전방에서 동일 방향으로 저속 진행 (heading 90°, 2 m/s)
# - OS가 TS를 추월하는 상황
# 
# COLREGs Rule 13: 추월선이 피항선
# - 추월선(OS)은 피추월선(TS)의 진로를 방해하지 않도록 충분히 피항해야 함
# - 추월 완료 전까지 피항 책임 유지

world:
  height: 200  # North-South extent (meters)
  width: 100   # East-West extent (meters)
  step_time: 0.1  # 10Hz

robot:
  - kinematics: diffdrive  # Otter USV (fast)
    id: 0
    state: [0, -80, 1.5708]  # [x, y, heading(rad)] - 남쪽, 북향 (90°), 고속
    goal: [0, 80, 1.5708]    # 북쪽 목표
    vel_min: [0.0, -1.0]     # [u_min, r_min]
    vel_max: [5.0, 1.0]      # [u_max, r_max] - 고속 가능
    footprint:
      type: polygon
      points: [[-1.2, -0.6], [1.2, -0.6], [1.2, 0.6], [-1.2, 0.6]]  # Otter size
    
    color: [0, 0, 255]  # Blue
    plot_color: b
    radius: 4.0  # Arrival threshold
    
    sensor:
      - type: 2DLidar
        range: 70
        fov: 180  # degrees
        num_beams: 180
        noise:
          distance: 0.08
          angle: 0.1

obstacle:
  # Target Ship - Slower vessel ahead
  - kinematics: omni
    id: 1
    state: [0, -40, 1.5708]  # [x, y, heading(rad)] - OS 전방, 북향 (90°), 저속
    vel_min: [-4, -4]
    vel_max: [4, 4]
    footprint:
      type: polygon
      points: [[-1.5, -0.8], [1.5, -0.8], [1.5, 0.8], [-1.5, 0.8]]  # Target ship size
    
    color: [255, 0, 0]  # Red
    control_mode: reactive
    reactive_rule:
      type: velocity
      vel: [0, 2.0, 0]  # Constant velocity north at 2 m/s (slower)
    
    arrival_mode: false

  # Boundary walls
  - kinematics: static
    id: 100
    type: polytope
    vertices: [[50, -100], [50, 100], [52, 100], [52, -100]]
    color: [128, 128, 128]
  
  - kinematics: static
    id: 101
    type: polytope
    vertices: [[-50, -100], [-50, 100], [-52, 100], [-52, -100]]
    color: [128, 128, 128]
  
  - kinematics: static
    id: 102
    type: polytope
    vertices: [[-100, 100], [100, 100], [100, 102], [-100, 102]]
    color: [128, 128, 128]
  
  - kinematics: static
    id: 103
    type: polytope
    vertices: [[-100, -100], [100, -100], [100, -102], [-100, -102]]
    color: [128, 128, 128]
